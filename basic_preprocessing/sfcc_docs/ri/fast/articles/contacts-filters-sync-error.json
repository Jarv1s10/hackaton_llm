{
    "site_name": "Revenue Grid Knowledge Base",
    "short_site_name": "Sfcc",
    "doc_dir": "ri/fast/articles/contacts-filters-sync-error.md",
    "doc_url": "https://docs.revenuegrid.com/ri/fast/articles/contacts-filters-sync-error",
    "title": null,
    "full_content": "---\ndescription: How to resolve the synchronization error \"MALFORMED_QUERY: Semi join sub-selects are only allowed at the top level WHERE expressions...\"\n---\n# How to Resolve *MALFORMED_QUERY: Semi join sub-selects are only allowed at the top level WHERE expressions...* Sync Error\n  \n\n<i>For users of the Email Sidebar on:</i><br><br>\n<div class=\"container\"\n        style=\"\n        display: inline-block;\n        height: 42px;\n        width: 162px;\n        padding: 5px 10px;\n        background-color: #fff;\">\n        <img src=\"https://revenuegrid.com/revenue-inbox/wp-content/uploads/Exchange1.svg\" \n            style=\"\n        \theight: 100%;\n            object-fit: contain;\n            vertical-align: middle;\">\n</div>\n<div class=\"container\"\n        style=\"\n        display: inline-block;\n        height: 42px;\n        width: 163px;\n        padding: 5px 10px;\n        background-color: #fff;\">\n        <img src=\"https://revenuegrid.com/revenue-inbox/wp-content/uploads/Office365.svg\" \n            style=\"\n        \theight: 100%;\n            object-fit: contain;\n            vertical-align: middle;\">\n</div>\n<div class=\"container\"\n        style=\"\n        display: inline-block;\n        height: 42px;\n        width: auto;\n        padding: 5px 10px;\n        background-color: #fff;\">\n        <img src=\"https://smartcloudconnect.io/wp-content/uploads/2021/08/logo-Gmail.jpg\" \n            style=\"\n        \theight: 100%;\n            object-fit: contain;\n            vertical-align: middle;\">\n</div>\n\n\n\n&nbsp;\n\n*1 min read*  \n\n<!-- ShareThis BEGIN --> \n<div class=\"addthis_inline_share_toolbox\"></div>\n<!-- End ShareThis --> \n\n&nbsp;\n\nIn some cases, you may face a situation where your synchronization is not running, and the following [error message](../Handling-Sync-Issues/) is shown in [Sync Settings Dashboard](../How-to-Open-Sync-Dashboard-%28Adaptive-view%29/):\n\n*MALFORMED_QUERY: Semi join sub-selects are only allowed at the top level WHERE expressions and not in nested WHERE expressions.*\n\n<p>\n    <img src=\"..\\..\\assets\\images\\Using-SmartCloud-Connect\\How-To-s\\Troubleshooting\\contacts-filters-sync-error\\error-message.png\" style=\"width:60%;\">\n</p>\n\n<br><br><br>\n\n<p>\n    <img src=\"..\\..\\assets\\images\\Using-SmartCloud-Connect\\How-To-s\\Troubleshooting\\contacts-filters-sync-error\\campaign-filter.png\" style=\"width:42.56%; display:inline-block; vertical-align:middle; margin-left:5px; float: right\">\n</p>\n\nThe issue is related to the known [Salesforce API limitation](https://help.salesforce.com/s/articleView?id=sf.c360_a_limits_and_guidelines.htm&type=5), which does not allow using the query with specific items. Usually, such queries are generated when the Salesforce Contacts List View with the Filter by Campaign Name is used in your organization.\n\n&nbsp;\n\n&nbsp;\n\n***\n\n&nbsp;\n\n## How to address the issue\n\nTo resolve the described above synchronization error, you need to change the filter (sync scope) for [down-syncing contacts from Salesforce to your mail client](../Synchronization-of-Contacts/) in Sync settings.\n\n!!! warning \"Important\"\n    Depending on your subscription plan, the appearance of your Sync Settings page may be different. Below you can find the troubleshooting steps described for the **New** and **Legacy** Sync Settings pages. Proceed with the steps according to the appearance of your Sync Setting page:\n    \n    * [New Sync Settings page](#steps_for_the_new_sync_settings_page)\n    * [Legacy Sync Settings page](#steps_for_the_legacy_sync_settings_page)\n\n&nbsp;\n\n### Steps for the [new Sync Settings page](../Configuring-Activities-Synchronization-Settings-rg/)\n\n<p style=\"margin-left:5%\">  \n<br>\n<b>1.</b> Open {{ product_name }}, click <b>Menu</b> and go to <b>Open {{ company_name }} in browser</b>\n</p>\n\n<p>\n    <img src=\"..\\..\\assets\\images\\Using-SmartCloud-Connect\\How-To-s\\Troubleshooting\\missing-add-sequence-button\\settings.png\" style=\"width:22.08%; display:inline-block; vertical-align:middle; margin-left:10px; float: right\">\n</p>\n\n<p style=\"margin-left:5%\">\n<br>\n<b>2.</b> Click on your profile picture in the upper right-hand side corner, then go to <b>Settings</b> > <b>Sync section</b>\n<br><br><br><br>\n</p>\n\n<p>\n    <img src=\"..\\..\\assets\\images\\Using-SmartCloud-Connect\\How-To-s\\Troubleshooting\\contacts-filters-sync-error\\contact-card.gif\" style=\"width:50%; display:inline-block; vertical-align:middle; margin-left:5px; float: right\">\n</p>\n\n<p style=\"margin-left:5%\">  \n<b>3.</b> On the opened Sync Settings page, find the <a href=../Configuring-Activities-Synchronization-Settings-rg/#contacts_saving>Contacts card</a> and click <b>Customize scope</b>\n<br><br><br>\n<b>4.</b> In the drop-down list, choose the desired <i>Custom Salesforce view</i> to synchronize only contacts available in the selected Salesforce view\n<br><br><br>\n<b>5.</b> Click <b>Apply</b> to save the changes\n</p>\n\n&nbsp;\n\n&nbsp;\n\n<p>\n    <img src=\"..\\..\\assets\\images\\Using-SmartCloud-Connect\\How-To-s\\Troubleshooting\\contacts-filters-sync-error\\start.png\" style=\"width:16.53%; display:inline-block; vertical-align:middle; margin-left:15px; float: right\">\n</p>\n\nOnce the Contact Filter configuration is done, you need to Enable or Force synchronization to check if the issue is resolved.\n\n&nbsp;\n\n***\n\n&nbsp;\n\n### Steps for the [legacy Sync Settings page](../Configuring-Activities-Synchronization-Settings/)\n\n<p style=\"margin-left:5%\">  \n<br>\n<b>1.</b> Open {{ product_name }}, click <b>Menu</b> and go to <b>Sync Settings</b>\n<br><br>\n<b>2.</b> On the opened <a href=../How-to-Open-Sync-Dashboard-%28Adaptive-view%29/>Sync Dashboard page</a>, go to <b>Sync Setting</b> > <b>Filters</b>\n<br><br>\n</p>\n\n<p>\n    <img src=\"..\\..\\assets\\images\\Using-SmartCloud-Connect\\How-To-s\\Troubleshooting\\contacts-filters-sync-error\\custom-view.gif\" style=\"width:38.06%; display:inline-block; vertical-align:middle; margin-left:12px; float: right\">\n</p>\n\n<p style=\"margin-left:5%\">  \n<b>3.</b> Find the Contacts card and click <b>Customize</b> in the bottom right corner of the card\n<br><br><br>\n<b>4.</b> Switch to the <b>Custom view</b> option\n<br><br><br>\n<b>5.</b> In the drop-down list, choose the desired <i>Salesforce contact view</i> to synchronize only contacts available in the selected Salesforce view\n<br><br><br>\n<b>6.</b> Click <b>Save</b> to apply the changes\n</p>\n\n&nbsp;\n\n&nbsp;\n\nOnce the Contact Filter configuration is done, you need to Enable or [Force synchronization](../How-to-Open-Sync-Dashboard-%28Adaptive-view%29/#force_rges_sync) to check if the issue is resolved.\n\n&nbsp;\n\n***\n\n&nbsp;\n\n## If the issue still persists\n\nIf the troubleshooting steps described above have not resolved the synchronization issue, contact [{{ company_name }} support team](mailto:support@revenuegrid.com) for additional investigation and describe the steps you completed.",
    "text_content": "description: How to resolve the synchronization error \"MALFORMED_QUERY: Semi join sub-selects are only allowed at the top level WHERE expressions...\"\nHow to Resolve MALFORMED_QUERY: Semi join sub-selects are only allowed at the top level WHERE expressions... Sync Error\n For users of the Email Sidebar on: \n<div class=\"container\"\n style=\"\n display: inline-block;\n height: 42px;\n width: 162px;\n padding: 5px 10px;\n background-color: #fff;\">\n <img src=\"https://revenuegrid.com/revenue-inbox/wp-content/uploads/Exchange1.svg\" \n style=\"\n height: 100%;\n object-fit: contain;\n vertical-align: middle;\">\n \n<div class=\"container\"\n style=\"\n display: inline-block;\n height: 42px;\n width: 163px;\n padding: 5px 10px;\n background-color: #fff;\">\n <img src=\"https://revenuegrid.com/revenue-inbox/wp-content/uploads/Office365.svg\" \n style=\"\n height: 100%;\n object-fit: contain;\n vertical-align: middle;\">\n \n<div class=\"container\"\n style=\"\n display: inline-block;\n height: 42px;\n width: auto;\n padding: 5px 10px;\n background-color: #fff;\">\n <img src=\"https://smartcloudconnect.io/wp-content/uploads/2021/08/logo-Gmail.jpg\" \n style=\"\n height: 100%;\n object-fit: contain;\n vertical-align: middle;\">\n \n1 min read \n \n \n \nIn some cases, you may face a situation where your synchronization is not running, and the following error message is shown in Sync Settings Dashboard:\nMALFORMED_QUERY: Semi join sub-selects are only allowed at the top level WHERE expressions and not in nested WHERE expressions.\n \n \n \n \n \n \n \nThe issue is related to the known Salesforce API limitation, which does not allow using the query with specific items. Usually, such queries are generated when the Salesforce Contacts List View with the Filter by Campaign Name is used in your organization.\nHow to address the issue\nTo resolve the described above synchronization error, you need to change the filter (sync scope) for down-syncing contacts from Salesforce to your mail client in Sync settings.\n!!! warning \"Important\"\n Depending on your subscription plan, the appearance of your Sync Settings page may be different. Below you can find the troubleshooting steps described for the New and Legacy Sync Settings pages. Proceed with the steps according to the appearance of your Sync Setting page:\n* [New Sync Settings page](#steps_for_the_new_sync_settings_page)\n* [Legacy Sync Settings page](#steps_for_the_legacy_sync_settings_page)\nSteps for the new Sync Settings page\n \n \n 1. Open {{ product_name }}, click Menu and go to Open {{ company_name }} in browser \n \n \n \n \n \n \n 2. Click on your profile picture in the upper right-hand side corner, then go to Settings > Sync section \n \n \n \n \n \n \n 3. On the opened Sync Settings page, find the Contacts card and click Customize scope \n \n 4. In the drop-down list, choose the desired Custom Salesforce view to synchronize only contacts available in the selected Salesforce view\n \n 5. Click Apply to save the changes\n \n \n \n \nOnce the Contact Filter configuration is done, you need to Enable or Force synchronization to check if the issue is resolved.\nSteps for the legacy Sync Settings page\n \n \n 1. Open {{ product_name }}, click Menu and go to Sync Settings \n \n 2. On the opened Sync Dashboard page , go to Sync Setting > Filters \n \n \n \n \n \n \n 3. Find the Contacts card and click Customize in the bottom right corner of the card\n \n 4. Switch to the Custom view option\n \n 5. In the drop-down list, choose the desired Salesforce contact view to synchronize only contacts available in the selected Salesforce view\n \n 6. Click Save to apply the changes\n \nOnce the Contact Filter configuration is done, you need to Enable or Force synchronization to check if the issue is resolved.\nIf the issue still persists\nIf the troubleshooting steps described above have not resolved the synchronization issue, contact {{ company_name }} support team for additional investigation and describe the steps you completed."
}