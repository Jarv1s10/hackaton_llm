{
    "site_name": "Revenue Grid Knowledge Base",
    "short_site_name": "Sfcc",
    "doc_dir": "ri/fast/articles/Salesforce-OAuth-Error.md",
    "doc_url": "https://docs.revenuegrid.com/ri/fast/articles/Salesforce-OAuth-Error",
    "title": null,
    "full_content": "---\ndescription: Step-by-step access authorization troubleshooting guide for Salesforce OAuth error\n---\n# Access Authorization Troubleshooting: Salesforce OAuth error  \n  \n\n*1 min read*  \n\n<!-- ShareThis BEGIN --> \n<div class=\"addthis_inline_share_toolbox\"></div>\n<!-- End ShareThis --> \n\n&nbsp;\n\nThe essence of the issue: after clicking on the \"Connect to Salesforce\" button to run {{ short_name }} Add-In a Salesforce OAuth error *OAUTH_APPROVAL_ERROR_GENERIC* occurs:\n\n<p>\n    <img src=\"../../assets/images/Using-SmartCloud-Connect/How-To-s/Troubleshooting/SF-OAuth-Error.png\">\n</p>\n\n&nbsp;\n\nIt only happens if [API use](https://help.salesforce.com/s/articleView?id=sf.security_api_access_control_about.htm&type=5) is enabled for the user in Salesforce.\n\n&nbsp;\n\n&nbsp;\n\nThe issue's cause: the *OAUTH_APPROVAL_ERROR_GENERIC* error may occur on user logon if the user's Profile in Salesforce is restricted by IP range limits. That also blocks any connections from [Connected Apps](https://help.salesforce.com/s/articleView?id=sf.connected_app_overview.htm&type=5).\n\n&nbsp;\n\nTo resolve the issue, first adjust Salesforce restricted IPs configuration for the concerned Profile, to ensure that the range includes the actual IP the user attempts a logon from, e.g. one outside of the corporate network:  \n\n**1\\.** [Open Salesforce **Setup**](https://help.salesforce.com/s/articleView?id=sf.basics_nav_setup.htm&type=5), type *Profiles* in the Quick Find box and select **Profiles**  \n**2\\.** Expand relevant Profile's settings by clicking on its name  \n**3\\.** On the Profile settings page, click **Login IP Ranges** to check and adjust the restrictions  \n\n&nbsp;\n\nIf that does not help, also try changing Connected Apps restrictions to Relaxed:\n\nBy default, *IP Relaxation* is set to \"Enforce IP restrictions\" for any Connected Apps, this prevents {{ short_name }} usage from unexpected IPs. To set \"Relax IP restrictions\":\n\n**1\\.** [Open Salesforce **Setup**](https://help.salesforce.com/s/articleView?id=sf.basics_nav_setup.htm&type=5), type *connected apps* in the Quick Find box and select **Manage Connected Apps**  \n**2\\.** Select **{{ company_name }} for Salesforce** and click **Edit** in the Action column  \n**3\\.**  In the *IP Relaxation* field, select **Relax IP restrictions**  \n\n<p>\n    <img src=\"../../assets/images/Using-SmartCloud-Connect/How-To-s/Troubleshooting/Relax-IP.png\">\n</p>\n\n&#160;\n &#160;\n\n\n<style>\n  .banners {\n    text-align: center;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n\n  .banners a.button {\n      background-color: #FFC827;\n      color: #2F3341;\n      box-shadow: 0 5px 35px rgba(146, 146, 146, 0.2);\n      padding: 20px;\n      font-family: Graphic, arial;\n      font-weight: 600;\n      line-height: 24px;\n      margin-top: -100px;\n      border-radius: 3px;\n      cursor: pointer;\n      transition: .1s;\n  }\n\n  .banners a.button:hover {\n    transform: scale(1.05);\n  }\n\n  .banners a.button a:hover,\n  .banners a.button a:visited {\n      color: #2F3341;\n  }\n\n  .banner-3 a.button {\n    margin-left: 45%;\n  }\n</style>\n\n<br>\n<div class=\"banners banner-3\">\n  <img src=\"../../assets/images/banners/banner-3.svg\" style=\"width: 100%; height: 100%;\">\n  <a class=\"button\" href=\"https://revenuegrid.com/sign-up/?utm_source=kb_rg&utm_medium=referral&utm_campaign=eac&utm_content=banner\" target=\"_blank\">Try {{ company_name }} for free</a>\n</div>",
    "text_content": "description: Step-by-step access authorization troubleshooting guide for Salesforce OAuth error\nAccess Authorization Troubleshooting: Salesforce OAuth error\n1 min read \n \n \n \nThe essence of the issue: after clicking on the \"Connect to Salesforce\" button to run {{ short_name }} Add-In a Salesforce OAuth error OAUTH_APPROVAL_ERROR_GENERIC occurs:\n \n \n \nIt only happens if API use is enabled for the user in Salesforce.\nThe issue's cause: the OAUTH_APPROVAL_ERROR_GENERIC error may occur on user logon if the user's Profile in Salesforce is restricted by IP range limits. That also blocks any connections from Connected Apps.\nTo resolve the issue, first adjust Salesforce restricted IPs configuration for the concerned Profile, to ensure that the range includes the actual IP the user attempts a logon from, e.g. one outside of the corporate network: \n1. Open Salesforce Setup, type Profiles in the Quick Find box and select Profiles\n2. Expand relevant Profile's settings by clicking on its name\n3. On the Profile settings page, click Login IP Ranges to check and adjust the restrictions \nIf that does not help, also try changing Connected Apps restrictions to Relaxed:\nBy default, IP Relaxation is set to \"Enforce IP restrictions\" for any Connected Apps, this prevents {{ short_name }} usage from unexpected IPs. To set \"Relax IP restrictions\":\n1. Open Salesforce Setup, type connected apps in the Quick Find box and select Manage Connected Apps\n2. Select {{ company_name }} for Salesforce and click Edit in the Action column\n3. In the IP Relaxation field, select Relax IP restrictions \n \n \n \n&#160;\n &#160;\n \n .banners {\n text-align: center;\n display: flex;\n flex-direction: column;\n align-items: center;\n }\n .banners a.button {\n background-color: #FFC827;\n color: #2F3341;\n box-shadow: 0 5px 35px rgba(146, 146, 146, 0.2);\n padding: 20px;\n font-family: Graphic, arial;\n font-weight: 600;\n line-height: 24px;\n margin-top: -100px;\n border-radius: 3px;\n cursor: pointer;\n transition: .1s;\n }\n .banners a.button:hover {\n transform: scale(1.05);\n }\n .banners a.button a:hover,\n .banners a.button a:visited {\n color: #2F3341;\n }\n .banner-3 a.button {\n margin-left: 45%;\n }\n \n \n \n \n Try {{ company_name }} for free "
}